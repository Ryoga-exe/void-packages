# Template file for 'dotter'
pkgname=dotter
version=0.13.3
revision=1
build_style=cargo
build_helper=qemu
checkdepends="which"
short_desc="Dotfile manager and templater written in rust"
maintainer="Ryoga-exe <mail@ryoga.dev>"
license="Unlicense"
homepage="https://github.com/SuperCuber/dotter"
changelog="https://github.com/SuperCuber/dotter/releases"
distfiles="https://github.com/SuperCuber/dotter/archive/refs/tags/v${version}.tar.gz"
checksum=4ca78450414f405c892c26b1663cac6e56a86e1d04529a7b1a69b23881c38414

post_install() {
	mkdir completions
	for shell in bash fish zsh; do
		vtargetrun "${DESTDIR}/usr/bin/dotter" gen-completions --shell ${shell} > completions/dotter.${shell}
		vcompletion completions/dotter.${shell} ${shell} dotter
	done

	vlicense LICENSE.md
}
